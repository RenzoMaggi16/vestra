{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\renzo\\\\OneDrive\\\\Desktop\\\\dashtrae\\\\frontend\\\\src\\\\components\\\\Chart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport Chart from 'chart.js/auto';\nimport './Chart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PortfolioChart = ({\n  data,\n  selectedAsset,\n  timeFilter\n}) => {\n  _s();\n  const chartRef = useRef(null);\n  const chartInstance = useRef(null);\n  useEffect(() => {\n    if (!data || !data.dates || !data.values || data.dates.length === 0) {\n      return;\n    }\n\n    // Destroy previous chart if it exists\n    if (chartInstance.current) {\n      chartInstance.current.destroy();\n    }\n    const ctx = chartRef.current.getContext('2d');\n\n    // Filter data based on time filter\n    let filteredDates = [...data.dates];\n    let filteredValues = [...data.values];\n    if (timeFilter === '1h') {\n      // For demo, just take the last 24 points and pretend they're hourly\n      filteredDates = filteredDates.slice(-24);\n      filteredValues = filteredValues.slice(-24);\n    } else if (timeFilter === '3h') {\n      // For demo, take the last 36 points\n      filteredDates = filteredDates.slice(-36);\n      filteredValues = filteredValues.slice(-36);\n    } else if (timeFilter === '1d') {\n      // For demo, take the last 48 points\n      filteredDates = filteredDates.slice(-48);\n      filteredValues = filteredValues.slice(-48);\n    } else if (timeFilter === '1w') {\n      // For demo, take all points but sample every 4th one\n      filteredDates = filteredDates.filter((_, i) => i % 4 === 0);\n      filteredValues = filteredValues.filter((_, i) => i % 4 === 0);\n    }\n    // For 1m, use all data\n\n    // Create gradient for the line\n    const gradient = ctx.createLinearGradient(0, 0, 0, 300);\n    gradient.addColorStop(0, 'rgba(248, 227, 107, 0.5)');\n    gradient.addColorStop(1, 'rgba(248, 227, 107, 0)');\n\n    // Create the chart\n    chartInstance.current = new Chart(ctx, {\n      type: 'line',\n      data: {\n        labels: filteredDates,\n        datasets: [{\n          label: selectedAsset ? selectedAsset.ticker : 'Portfolio',\n          data: filteredValues,\n          borderColor: '#f8e36b',\n          backgroundColor: gradient,\n          borderWidth: 2,\n          pointRadius: 0,\n          pointHoverRadius: 5,\n          pointHoverBackgroundColor: '#f8e36b',\n          pointHoverBorderColor: '#fff',\n          pointHoverBorderWidth: 2,\n          tension: 0.4,\n          fill: true\n        }]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false\n          },\n          tooltip: {\n            mode: 'index',\n            intersect: false,\n            backgroundColor: '#111',\n            titleColor: '#f8e36b',\n            bodyColor: '#fff',\n            borderColor: '#333',\n            borderWidth: 1,\n            padding: 10,\n            displayColors: false,\n            callbacks: {\n              label: function (context) {\n                return `$${context.parsed.y.toFixed(2)}`;\n              }\n            }\n          }\n        },\n        scales: {\n          x: {\n            grid: {\n              display: false,\n              drawBorder: false\n            },\n            ticks: {\n              display: false\n            }\n          },\n          y: {\n            grid: {\n              color: '#222',\n              drawBorder: false\n            },\n            ticks: {\n              color: '#888',\n              padding: 10,\n              callback: function (value) {\n                return value >= 1000 ? `${value / 1000}k` : value;\n              }\n            }\n          }\n        },\n        interaction: {\n          mode: 'nearest',\n          axis: 'x',\n          intersect: false\n        }\n      }\n    });\n    return () => {\n      if (chartInstance.current) {\n        chartInstance.current.destroy();\n      }\n    };\n  }, [data, selectedAsset, timeFilter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: chartRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n_s(PortfolioChart, \"u5+iHnwD4hjVcMuzTE/TbI78erc=\");\n_c = PortfolioChart;\nexport default PortfolioChart;\nvar _c;\n$RefreshReg$(_c, \"PortfolioChart\");","map":{"version":3,"names":["React","useEffect","useRef","Chart","jsxDEV","_jsxDEV","PortfolioChart","data","selectedAsset","timeFilter","_s","chartRef","chartInstance","dates","values","length","current","destroy","ctx","getContext","filteredDates","filteredValues","slice","filter","_","i","gradient","createLinearGradient","addColorStop","type","labels","datasets","label","ticker","borderColor","backgroundColor","borderWidth","pointRadius","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","tension","fill","options","responsive","maintainAspectRatio","plugins","legend","display","tooltip","mode","intersect","titleColor","bodyColor","padding","displayColors","callbacks","context","parsed","y","toFixed","scales","x","grid","drawBorder","ticks","color","callback","value","interaction","axis","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/renzo/OneDrive/Desktop/dashtrae/frontend/src/components/Chart.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport Chart from 'chart.js/auto';\r\nimport './Chart.css';\r\n\r\nconst PortfolioChart = ({ data, selectedAsset, timeFilter }) => {\r\n  const chartRef = useRef(null);\r\n  const chartInstance = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!data || !data.dates || !data.values || data.dates.length === 0) {\r\n      return;\r\n    }\r\n\r\n    // Destroy previous chart if it exists\r\n    if (chartInstance.current) {\r\n      chartInstance.current.destroy();\r\n    }\r\n\r\n    const ctx = chartRef.current.getContext('2d');\r\n\r\n    // Filter data based on time filter\r\n    let filteredDates = [...data.dates];\r\n    let filteredValues = [...data.values];\r\n\r\n    if (timeFilter === '1h') {\r\n      // For demo, just take the last 24 points and pretend they're hourly\r\n      filteredDates = filteredDates.slice(-24);\r\n      filteredValues = filteredValues.slice(-24);\r\n    } else if (timeFilter === '3h') {\r\n      // For demo, take the last 36 points\r\n      filteredDates = filteredDates.slice(-36);\r\n      filteredValues = filteredValues.slice(-36);\r\n    } else if (timeFilter === '1d') {\r\n      // For demo, take the last 48 points\r\n      filteredDates = filteredDates.slice(-48);\r\n      filteredValues = filteredValues.slice(-48);\r\n    } else if (timeFilter === '1w') {\r\n      // For demo, take all points but sample every 4th one\r\n      filteredDates = filteredDates.filter((_, i) => i % 4 === 0);\r\n      filteredValues = filteredValues.filter((_, i) => i % 4 === 0);\r\n    }\r\n    // For 1m, use all data\r\n\r\n    // Create gradient for the line\r\n    const gradient = ctx.createLinearGradient(0, 0, 0, 300);\r\n    gradient.addColorStop(0, 'rgba(248, 227, 107, 0.5)');\r\n    gradient.addColorStop(1, 'rgba(248, 227, 107, 0)');\r\n\r\n    // Create the chart\r\n    chartInstance.current = new Chart(ctx, {\r\n      type: 'line',\r\n      data: {\r\n        labels: filteredDates,\r\n        datasets: [\r\n          {\r\n            label: selectedAsset ? selectedAsset.ticker : 'Portfolio',\r\n            data: filteredValues,\r\n            borderColor: '#f8e36b',\r\n            backgroundColor: gradient,\r\n            borderWidth: 2,\r\n            pointRadius: 0,\r\n            pointHoverRadius: 5,\r\n            pointHoverBackgroundColor: '#f8e36b',\r\n            pointHoverBorderColor: '#fff',\r\n            pointHoverBorderWidth: 2,\r\n            tension: 0.4,\r\n            fill: true\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        plugins: {\r\n          legend: {\r\n            display: false\r\n          },\r\n          tooltip: {\r\n            mode: 'index',\r\n            intersect: false,\r\n            backgroundColor: '#111',\r\n            titleColor: '#f8e36b',\r\n            bodyColor: '#fff',\r\n            borderColor: '#333',\r\n            borderWidth: 1,\r\n            padding: 10,\r\n            displayColors: false,\r\n            callbacks: {\r\n              label: function(context) {\r\n                return `$${context.parsed.y.toFixed(2)}`;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        scales: {\r\n          x: {\r\n            grid: {\r\n              display: false,\r\n              drawBorder: false\r\n            },\r\n            ticks: {\r\n              display: false\r\n            }\r\n          },\r\n          y: {\r\n            grid: {\r\n              color: '#222',\r\n              drawBorder: false\r\n            },\r\n            ticks: {\r\n              color: '#888',\r\n              padding: 10,\r\n              callback: function(value) {\r\n                return value >= 1000 ? `${value/1000}k` : value;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        interaction: {\r\n          mode: 'nearest',\r\n          axis: 'x',\r\n          intersect: false\r\n        }\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      if (chartInstance.current) {\r\n        chartInstance.current.destroy();\r\n      }\r\n    };\r\n  }, [data, selectedAsset, timeFilter]);\r\n\r\n  return (\r\n    <div className=\"chart-wrapper\">\r\n      <canvas ref={chartRef}></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PortfolioChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}