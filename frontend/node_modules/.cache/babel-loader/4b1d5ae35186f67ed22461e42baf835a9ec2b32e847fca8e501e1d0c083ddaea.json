{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FaHome,FaUser,FaChartLine,FaWallet,FaNewspaper,FaCog,FaSignOutAlt,FaArrowUp,FaArrowDown,FaPlus}from'react-icons/fa';import Header from'./components/Header';import AssetCard from'./components/AssetCard';import PortfolioAllocation from'./components/PortfolioAllocation';import Chart from'./components/Chart';import TransactionModal from'./components/TransactionModal';import'./App.css';import apiService from'./services/api';import marketService from'./services/market';import{jsxs as _jsxs,Fragment as _Fragment,jsx as _jsx}from\"react/jsx-runtime\";function App(){const[portfolioSummary,setPortfolioSummary]=useState({total_value:0,daily_change_percent:0,assets:[]});const[portfolioHistory,setPortfolioHistory]=useState({dates:[],values:[]});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedAsset,setSelectedAsset]=useState(null);const[timeFilter,setTimeFilter]=useState('1d');const[showTransactionModal,setShowTransactionModal]=useState(false);const fetchPortfolioData=async()=>{try{setLoading(true);// Get user transactions\nconst transactions=await apiService.getTransactions();// Get current market prices for all assets in the portfolio\nconst tickers=[...new Set(transactions.map(t=>t.ticker))];const marketPrices=await marketService.getPrices(tickers);// Calculate portfolio value based on transactions and current prices\nlet assets=[];let totalValue=0;let totalPreviousValue=0;// Group transactions by ticker\nconst assetMap={};transactions.forEach(transaction=>{const{ticker,quantity}=transaction;if(!assetMap[ticker]){var _marketPrices$ticker,_marketPrices$ticker2;assetMap[ticker]={ticker,quantity:0,total_value:0,current_price:((_marketPrices$ticker=marketPrices[ticker])===null||_marketPrices$ticker===void 0?void 0:_marketPrices$ticker.price)||0,price_change_24h:((_marketPrices$ticker2=marketPrices[ticker])===null||_marketPrices$ticker2===void 0?void 0:_marketPrices$ticker2.change_24h)||0};}assetMap[ticker].quantity+=quantity;});// Calculate values for each asset\nfor(const ticker in assetMap){const asset=assetMap[ticker];asset.total_value=asset.quantity*asset.current_price;// Only include assets with positive quantity (user still owns them)\nif(asset.quantity>0){assets.push(asset);totalValue+=asset.total_value;totalPreviousValue+=asset.total_value/(1+asset.price_change_24h/100);}}// Calculate daily change percentage\nconst dailyChangePercent=totalPreviousValue>0?(totalValue-totalPreviousValue)/totalPreviousValue*100:0;// Update portfolio summary\nconst summary={total_value:totalValue,daily_change_percent:dailyChangePercent,assets:assets};setPortfolioSummary(summary);// Get portfolio history\nconst history=await apiService.getPortfolioHistory(30);setPortfolioHistory(history);// Set the first asset as selected by default if available\nif(assets.length>0&&!selectedAsset){setSelectedAsset(assets[0]);}setError(null);}catch(err){console.error('Error fetching portfolio data:',err);setError('Failed to load portfolio data. Please try again later.');}finally{setLoading(false);}};useEffect(()=>{// Initial fetch\nfetchPortfolioData();// Set up interval for periodic updates\nconst intervalId=setInterval(fetchPortfolioData,60000);// Update every minute\n// Clean up interval on component unmount\nreturn()=>clearInterval(intervalId);},[selectedAsset]);const formatCurrency=value=>{const[whole,decimal]=value.toFixed(2).split('.');return/*#__PURE__*/_jsxs(_Fragment,{children:[\"$\",whole.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),/*#__PURE__*/_jsxs(\"span\",{className:\"decimal\",children:[\".\",decimal]})]});};const handleTransactionAdded=()=>{// Refresh portfolio data after adding a transaction\nfetchPortfolioData();};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item active\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaHome,{})}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaUser,{})}),\"Account\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaChartLine,{})}),\"Chart\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaWallet,{})}),\"Wallet\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaNewspaper,{})}),\"News\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaCog,{})}),\"Settings\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'auto'},className:\"sidebar-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sidebar-item-icon\",children:/*#__PURE__*/_jsx(FaSignOutAlt,{})}),\"Log out\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading portfolio data...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),!loading&&!error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-balance\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"balance-label\",children:\"TOTAL BALANCE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"balance-amount\",children:formatCurrency(portfolioSummary.total_value)}),portfolioSummary.total_value>0?/*#__PURE__*/_jsxs(\"div\",{className:\"time-periods\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-period\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"time-period-label\",children:\"Today\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-period-value \".concat(portfolioSummary.daily_change_percent>=0?'positive':'negative'),children:[portfolioSummary.daily_change_percent>=0?'+':'',portfolioSummary.daily_change_percent.toFixed(1),\"%\",portfolioSummary.daily_change_percent>=0?/*#__PURE__*/_jsx(FaArrowUp,{size:12,style:{marginLeft:'4px'}}):/*#__PURE__*/_jsx(FaArrowDown,{size:12,style:{marginLeft:'4px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-period\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"time-period-label\",children:\"7 Days\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-period-value positive\",children:[\"+4.25%\",/*#__PURE__*/_jsx(FaArrowUp,{size:12,style:{marginLeft:'4px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-period\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"time-period-label\",children:\"30 Days\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-period-value positive\",children:[\"+11.5%\",/*#__PURE__*/_jsx(FaArrowUp,{size:12,style:{marginLeft:'4px'}})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-portfolio-message\",children:\"Add assets to start tracking your portfolio\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"asset-cards\",children:portfolioSummary.assets.length>0?portfolioSummary.assets.map(asset=>/*#__PURE__*/_jsx(AssetCard,{asset:asset,onClick:()=>setSelectedAsset(asset)},asset.ticker)):/*#__PURE__*/_jsx(\"div\",{className:\"empty-assets-message\",children:\"No assets in your portfolio yet. Click the + button to add your first asset.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-sections\",children:portfolioSummary.assets.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PortfolioAllocation,{assets:portfolioSummary.assets}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chart-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-title\",children:\"Chart\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-selector\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-selector-item\",children:\"USD\"})})]}),selectedAsset&&/*#__PURE__*/_jsxs(\"div\",{className:\"chart-price\",children:[\"$\",selectedAsset.current_price.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(Chart,{data:portfolioHistory,selectedAsset:selectedAsset,timeFilter:timeFilter})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chart-time-filters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chart-time-filter \".concat(timeFilter==='1h'?'active':''),onClick:()=>setTimeFilter('1h'),children:\"1h\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-time-filter \".concat(timeFilter==='3h'?'active':''),onClick:()=>setTimeFilter('3h'),children:\"3h\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-time-filter \".concat(timeFilter==='1d'?'active':''),onClick:()=>setTimeFilter('1d'),children:\"1d\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-time-filter \".concat(timeFilter==='1w'?'active':''),onClick:()=>setTimeFilter('1w'),children:\"1w\"}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-time-filter \".concat(timeFilter==='1m'?'active':''),onClick:()=>setTimeFilter('1m'),children:\"1m\"})]})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-dashboard-message\",children:\"Your portfolio is empty. Add assets to see allocation and charts.\"})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"add-transaction-button\",onClick:()=>setShowTransactionModal(true),children:/*#__PURE__*/_jsx(FaPlus,{})}),showTransactionModal&&/*#__PURE__*/_jsx(TransactionModal,{onClose:()=>setShowTransactionModal(false),onTransactionAdded:handleTransactionAdded})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","FaHome","FaUser","FaChartLine","FaWallet","FaNewspaper","FaCog","FaSignOutAlt","FaArrowUp","FaArrowDown","FaPlus","Header","AssetCard","PortfolioAllocation","Chart","TransactionModal","apiService","marketService","jsxs","_jsxs","Fragment","_Fragment","jsx","_jsx","App","portfolioSummary","setPortfolioSummary","total_value","daily_change_percent","assets","portfolioHistory","setPortfolioHistory","dates","values","loading","setLoading","error","setError","selectedAsset","setSelectedAsset","timeFilter","setTimeFilter","showTransactionModal","setShowTransactionModal","fetchPortfolioData","transactions","getTransactions","tickers","Set","map","t","ticker","marketPrices","getPrices","totalValue","totalPreviousValue","assetMap","forEach","transaction","quantity","_marketPrices$ticker","_marketPrices$ticker2","current_price","price","price_change_24h","change_24h","asset","push","dailyChangePercent","summary","history","getPortfolioHistory","length","err","console","intervalId","setInterval","clearInterval","formatCurrency","value","whole","decimal","toFixed","split","children","replace","className","handleTransactionAdded","style","marginTop","concat","size","marginLeft","onClick","data","onClose","onTransactionAdded"],"sources":["E:/vestra-main/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { FaHome, FaUser, FaChartLine, FaWallet, FaNewspaper, FaCog, FaSignOutAlt, FaArrowUp, FaArrowDown, FaPlus } from 'react-icons/fa';\nimport Header from './components/Header';\nimport AssetCard from './components/AssetCard';\nimport PortfolioAllocation from './components/PortfolioAllocation';\nimport Chart from './components/Chart';\nimport TransactionModal from './components/TransactionModal';\nimport './App.css';\nimport apiService from './services/api';\nimport marketService from './services/market';\n\nfunction App() {\n  const [portfolioSummary, setPortfolioSummary] = useState({\n    total_value: 0,\n    daily_change_percent: 0,\n    assets: []\n  });\n  \n  const [portfolioHistory, setPortfolioHistory] = useState({\n    dates: [],\n    values: []\n  });\n  \n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedAsset, setSelectedAsset] = useState(null);\n  const [timeFilter, setTimeFilter] = useState('1d');\n  const [showTransactionModal, setShowTransactionModal] = useState(false);\n\n  const fetchPortfolioData = async () => {\n    try {\n      setLoading(true);\n      \n      // Get user transactions\n      const transactions = await apiService.getTransactions();\n      \n      // Get current market prices for all assets in the portfolio\n      const tickers = [...new Set(transactions.map(t => t.ticker))];\n      const marketPrices = await marketService.getPrices(tickers);\n      \n      // Calculate portfolio value based on transactions and current prices\n      let assets = [];\n      let totalValue = 0;\n      let totalPreviousValue = 0;\n      \n      // Group transactions by ticker\n      const assetMap = {};\n      \n      transactions.forEach(transaction => {\n        const { ticker, quantity } = transaction;\n        \n        if (!assetMap[ticker]) {\n          assetMap[ticker] = {\n            ticker,\n            quantity: 0,\n            total_value: 0,\n            current_price: marketPrices[ticker]?.price || 0,\n            price_change_24h: marketPrices[ticker]?.change_24h || 0\n          };\n        }\n        \n        assetMap[ticker].quantity += quantity;\n      });\n      \n      // Calculate values for each asset\n      for (const ticker in assetMap) {\n        const asset = assetMap[ticker];\n        asset.total_value = asset.quantity * asset.current_price;\n        \n        // Only include assets with positive quantity (user still owns them)\n        if (asset.quantity > 0) {\n          assets.push(asset);\n          totalValue += asset.total_value;\n          totalPreviousValue += asset.total_value / (1 + asset.price_change_24h / 100);\n        }\n      }\n      \n      // Calculate daily change percentage\n      const dailyChangePercent = totalPreviousValue > 0 \n        ? ((totalValue - totalPreviousValue) / totalPreviousValue) * 100 \n        : 0;\n      \n      // Update portfolio summary\n      const summary = {\n        total_value: totalValue,\n        daily_change_percent: dailyChangePercent,\n        assets: assets\n      };\n      \n      setPortfolioSummary(summary);\n      \n      // Get portfolio history\n      const history = await apiService.getPortfolioHistory(30);\n      setPortfolioHistory(history);\n      \n      // Set the first asset as selected by default if available\n      if (assets.length > 0 && !selectedAsset) {\n        setSelectedAsset(assets[0]);\n      }\n      \n      setError(null);\n    } catch (err) {\n      console.error('Error fetching portfolio data:', err);\n      setError('Failed to load portfolio data. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    // Initial fetch\n    fetchPortfolioData();\n\n    // Set up interval for periodic updates\n    const intervalId = setInterval(fetchPortfolioData, 60000); // Update every minute\n\n    // Clean up interval on component unmount\n    return () => clearInterval(intervalId);\n  }, [selectedAsset]);\n\n  const formatCurrency = (value) => {\n    const [whole, decimal] = value.toFixed(2).split('.');\n    return (\n      <>\n        ${whole.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}<span className=\"decimal\">.{decimal}</span>\n      </>\n    );\n  };\n\n  const handleTransactionAdded = () => {\n    // Refresh portfolio data after adding a transaction\n    fetchPortfolioData();\n  };\n\n  return (\n    <div className=\"app\">\n      <Header />\n      \n      <div className=\"main-content\">\n        <div className=\"sidebar\">\n          <div className=\"sidebar-item active\">\n            <span className=\"sidebar-item-icon\"><FaHome /></span>\n            Dashboard\n          </div>\n          <div className=\"sidebar-item\">\n            <span className=\"sidebar-item-icon\"><FaUser /></span>\n            Account\n          </div>\n          <div className=\"sidebar-item\">\n            <span className=\"sidebar-item-icon\"><FaChartLine /></span>\n            Chart\n          </div>\n          <div className=\"sidebar-item\">\n            <span className=\"sidebar-item-icon\"><FaWallet /></span>\n            Wallet\n          </div>\n          <div className=\"sidebar-item\">\n            <span className=\"sidebar-item-icon\"><FaNewspaper /></span>\n            News\n          </div>\n          <div className=\"sidebar-item\">\n            <span className=\"sidebar-item-icon\"><FaCog /></span>\n            Settings\n          </div>\n          \n          <div style={{ marginTop: 'auto' }} className=\"sidebar-item\">\n            <span className=\"sidebar-item-icon\"><FaSignOutAlt /></span>\n            Log out\n          </div>\n        </div>\n        \n        <div className=\"dashboard-content\">\n          {loading && <div className=\"loading\">Loading portfolio data...</div>}\n          \n          {error && <div className=\"error-message\">{error}</div>}\n          \n          {!loading && !error && (\n            <>\n              <div className=\"total-balance\">\n                <div className=\"balance-label\">TOTAL BALANCE</div>\n                <div className=\"balance-amount\">\n                  {formatCurrency(portfolioSummary.total_value)}\n                  </div>\n\n                  {portfolioSummary.total_value > 0 ? (\n                    <div className=\"time-periods\">\n                    <div className=\"time-period\">\n                      <div className=\"time-period-label\">Today</div>\n                      <div className={`time-period-value ${portfolioSummary.daily_change_percent >= 0 ? 'positive' : 'negative'}`}>\n                        {portfolioSummary.daily_change_percent >= 0 ? '+' : ''}\n                        {portfolioSummary.daily_change_percent.toFixed(1)}%\n                        {portfolioSummary.daily_change_percent >= 0 ? <FaArrowUp size={12} style={{ marginLeft: '4px' }} /> : <FaArrowDown size={12} style={{ marginLeft: '4px' }} />}\n                      </div>\n                    </div>\n                    <div className=\"time-period\">\n                      <div className=\"time-period-label\">7 Days</div>\n                      <div className=\"time-period-value positive\">\n                        +4.25%\n                        <FaArrowUp size={12} style={{ marginLeft: '4px' }} />\n                      </div>\n                    </div>\n                    <div className=\"time-period\">\n                      <div className=\"time-period-label\">30 Days</div>\n                      <div className=\"time-period-value positive\">\n                        +11.5%\n                        <FaArrowUp size={12} style={{ marginLeft: '4px' }} />\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <div className=\"empty-portfolio-message\">\n                    Add assets to start tracking your portfolio\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"asset-cards\">\n                {portfolioSummary.assets.length > 0 ? (\n                  portfolioSummary.assets.map(asset => (\n                    <AssetCard \n                      key={asset.ticker}\n                      asset={asset}\n                      onClick={() => setSelectedAsset(asset)}\n                    />\n                  ))\n                ) : (\n                  <div className=\"empty-assets-message\">\n                    No assets in your portfolio yet. Click the + button to add your first asset.\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"dashboard-sections\">\n                {portfolioSummary.assets.length > 0 ? (\n                  <>\n                    <PortfolioAllocation assets={portfolioSummary.assets} />\n                    \n                    <div className=\"chart-section\">\n                      <div className=\"chart-header\">\n                        <div className=\"chart-title\">\n                          Chart\n                        </div>\n                        <div className=\"chart-selector\">\n                          <div className=\"chart-selector-item\">USD</div>\n                        </div>\n                      </div>\n                      \n                      {selectedAsset && (\n                        <div className=\"chart-price\">\n                          ${selectedAsset.current_price.toFixed(2)}\n                        </div>\n                      )}\n                      \n                      <div className=\"chart-container\">\n                        <Chart \n                          data={portfolioHistory}\n                          selectedAsset={selectedAsset}\n                          timeFilter={timeFilter}\n                        />\n                      </div>\n                      \n                      <div className=\"chart-time-filters\">\n                        <div \n                          className={`chart-time-filter ${timeFilter === '1h' ? 'active' : ''}`}\n                          onClick={() => setTimeFilter('1h')}\n                        >\n                          1h\n                        </div>\n                        <div \n                          className={`chart-time-filter ${timeFilter === '3h' ? 'active' : ''}`}\n                          onClick={() => setTimeFilter('3h')}\n                        >\n                          3h\n                        </div>\n                        <div \n                          className={`chart-time-filter ${timeFilter === '1d' ? 'active' : ''}`}\n                          onClick={() => setTimeFilter('1d')}\n                        >\n                          1d\n                        </div>\n                        <div \n                          className={`chart-time-filter ${timeFilter === '1w' ? 'active' : ''}`}\n                          onClick={() => setTimeFilter('1w')}\n                        >\n                          1w\n                        </div>\n                        <div \n                          className={`chart-time-filter ${timeFilter === '1m' ? 'active' : ''}`}\n                          onClick={() => setTimeFilter('1m')}\n                        >\n                          1m\n                        </div>\n                      </div>\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"empty-dashboard-message\">\n                    Your portfolio is empty. Add assets to see allocation and charts.\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      \n      <div \n        className=\"add-transaction-button\"\n        onClick={() => setShowTransactionModal(true)}\n      >\n        <FaPlus />\n      </div>\n      \n      {showTransactionModal && (\n        <TransactionModal \n          onClose={() => setShowTransactionModal(false)}\n          onTransactionAdded={handleTransactionAdded}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}